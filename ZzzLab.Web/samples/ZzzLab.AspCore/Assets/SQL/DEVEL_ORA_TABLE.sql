--[TABLE_LIST]
SELECT DISTINCT
    TAB.OWNER AS SCHEMA_NAME,
    TAB.TABLE_NAME,
    TAB.TABLE_TYPE,
    TAB.COMMENTS
FROM (
SELECT
    TAB.OWNER,
    TAB.TABLE_NAME,
    'TABLE' AS TABLE_TYPE,
    COM.COMMENTS
FROM ALL_TABLES TAB
    LEFT OUTER JOIN ALL_TAB_COMMENTS COM
        ON TAB.OWNER = COM.OWNER AND TAB.TABLE_NAME = COM.TABLE_NAME
WHERE TAB.OWNER NOT IN ('SYS', 'SYSTEM')
  AND INSTR( TAB.TABLE_NAME, '$') = 0
UNION
SELECT
    TAB.OWNER,
    TAB.VIEW_NAME AS TABLE_NAME,
    'VIEW' AS TABLE_TYPE,
    COM.COMMENTS
FROM ALL_VIEWS TAB
    LEFT OUTER JOIN ALL_TAB_COMMENTS COM
        ON TAB.OWNER = COM.OWNER AND TAB.VIEW_NAME = COM.TABLE_NAME
WHERE TAB.OWNER NOT IN ('SYS', 'SYSTEM')
  AND INSTR( TAB.VIEW_NAME, '$') = 0) TAB
WHERE 1 = 1
ORDER BY TAB.OWNER, TAB.TABLE_NAME;

--[TABLE_DETAIL]
SELECT
      COL.OWNER AS SCHEMA_NAME
    , COL.TABLE_NAME
    , COL.COLUMN_ID  AS COLUMN_ORDER
    , COL.COLUMN_NAME
    , COL.DATA_TYPE
    , COL.DATA_LENGTH
    , COL.DATA_PRECISION
    , CON.CONSTRAINT_TYPE
    , CON.REF_OWNER
    , CON.REF_TABLE_NAME
    , COL.NULLABLE
    , COL.DATA_DEFAULT
    , COM.COMMENTS
FROM ALL_TAB_COLUMNS COL
    LEFT OUTER JOIN ALL_COL_COMMENTS COM
        ON COL.OWNER = COM.OWNER AND COL.TABLE_NAME = COM.TABLE_NAME AND COL.COLUMN_NAME = COM.COLUMN_NAME AND COM.COMMENTS IS NOT NULL
    LEFT OUTER JOIN  (
      SELECT DISTINCT
          CON.OWNER
        , CON.TABLE_NAME
        , COL.COLUMN_NAME
        , LISTAGG(CON.CONSTRAINT_TYPE, ',') WITHIN GROUP (ORDER BY CON.CONSTRAINT_TYPE ASC) AS CONSTRAINT_TYPE
        , CON.R_OWNER AS REF_OWNER
        , REF.TABLE_NAME AS REF_TABLE_NAME
      FROM ALL_CONSTRAINTS  CON
         LEFT OUTER JOIN ALL_CONS_COLUMNS COL
             ON CON.OWNER = COL.OWNER
            AND CON.TABLE_NAME = COL.TABLE_NAME
            AND CON.CONSTRAINT_NAME = COL.CONSTRAINT_NAME
         LEFT OUTER JOIN (
             SELECT DISTINCT
                OWNER,
                TABLE_NAME,
                CONSTRAINT_NAME,
                CONSTRAINT_TYPE
            FROM ALL_CONSTRAINTS CON
         ) REF
            ON REF.CONSTRAINT_NAME = CON.R_CONSTRAINT_NAME
    WHERE CON.CONSTRAINT_TYPE IN ('P', 'R', 'U')
      AND COL.OWNER NOT IN ('SYS', 'SYSTEM')
      AND INSTR( COL.TABLE_NAME, '$') = 0
    GROUP BY CON.OWNER, CON.TABLE_NAME, COL.COLUMN_NAME, CON.R_OWNER, REF.TABLE_NAME
    ) CON
      ON  COL.OWNER = CON.OWNER AND COL.TABLE_NAME = CON.TABLE_NAME AND COL.COLUMN_NAME = CON.COLUMN_NAME
WHERE 1 = 1
  AND COL.OWNER NOT IN ('SYS', 'SYSTEM')
  AND INSTR( COL.TABLE_NAME, '$') = 0
ORDER BY COL.OWNER, COL.TABLE_NAME, COL.COLUMN_ID;